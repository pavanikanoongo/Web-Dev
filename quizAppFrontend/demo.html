<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App with Category and Translation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f9;
        }

        .container {
            text-align: center;
            width: 60%;
        }

        h1 {
            font-size: 24px;
        }

        select, button {
            margin: 10px;
            padding: 10px;
            font-size: 16px;
        }

        .question {
            font-size: 20px;
            margin: 20px 0;
        }

        .next-button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .next-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Quiz App with Category and Translation</h1>

        <!-- Category Selection -->
        <label for="category-select">Select Category:</label>
        <select id="category-select">
            <option value="9">General Knowledge</option>
            <option value="21">Sports</option>
            <option value="17">Science</option>
            <option value="18">History</option>
            <option value="23">Entertainment: Video Games</option>
        </select>

        <!-- Number of Questions Selection -->
        <label for="question-count">Number of Questions:</label>
        <select id="question-count">
            <option value="5">5 Questions</option>
            <option value="10">10 Questions</option>
            <option value="15">15 Questions</option>
        </select>

        <!-- Language Selection -->
        <label for="language-select">Choose Language:</label>
        <select id="language-select">
            <option value="am-ET">Amharic</option>
            <option value="ar-SA">Arabic</option>
            <option value="be-BY">Bielarus</option>
            <option value="bem-ZM">Bemba</option>
            <option value="bi-VU">Bislama</option>
            <option value="bjs-BB">Bajan</option>
            <option value="bn-IN">Bengali</option>
            <option value="bo-CN">Tibetan</option>
            <option value="br-FR">Breton</option>
            <option value="bs-BA">Bosnian</option>
            <option value="ca-ES">Catalan</option>
            <option value="cop-EG">Coptic</option>
            <option value="cs-CZ">Czech</option>
            <option value="cy-GB">Welsh</option>
            <option value="da-DK">Danish</option>
            <option value="dz-BT">Dzongkha</option>
            <option value="de-DE">German</option>
            <option value="dv-MV">Maldivian</option>
            <option value="el-GR">Greek</option>
            <option value="en-GB">English</option>
            <option value="es-ES">Spanish</option>
            <option value="et-EE">Estonian</option>
            <option value="eu-ES">Basque</option>
            <option value="fa-IR">Persian</option>
            <option value="fi-FI">Finnish</option>
            <option value="fn-FNG">Fanagalo</option>
            <option value="fo-FO">Faroese</option>
            <option value="fr-FR">French</option>
            <option value="gl-ES">Galician</option>
            <option value="gu-IN">Gujarati</option>
            <option value="ha-NE">Hausa</option>
            <option value="he-IL">Hebrew</option>
            <option value="hi-IN">Hindi</option>
            <option value="hr-HR">Croatian</option>
            <option value="hu-HU">Hungarian</option>
            <option value="id-ID">Indonesian</option>
            <option value="is-IS">Icelandic</option>
            <option value="it-IT">Italian</option>
            <option value="ja-JP">Japanese</option>
            <option value="kk-KZ">Kazakh</option>
            <option value="km-KM">Khmer</option>
            <option value="kn-IN">Kannada</option>
            <option value="ko-KR">Korean</option>
            <option value="ku-TR">Kurdish</option>
            <option value="ky-KG">Kyrgyz</option>
            <option value="la-VA">Latin</option>
            <option value="lo-LA">Lao</option>
            <option value="lv-LV">Latvian</option>
            <option value="men-SL">Mende</option>
            <option value="mg-MG">Malagasy</option>
            <option value="mi-NZ">Maori</option>
            <option value="ms-MY">Malay</option>
            <option value="mt-MT">Maltese</option>
            <option value="my-MM">Burmese</option>
            <option value="ne-NP">Nepali</option>
            <option value="niu-NU">Niuean</option>
            <option value="nl-NL">Dutch</option>
            <option value="no-NO">Norwegian</option>
            <option value="ny-MW">Nyanja</option>
            <option value="ur-PK">Pakistani</option>
            <option value="pau-PW">Palauan</option>
            <option value="pa-IN">Panjabi</option>
            <option value="ps-PK">Pashto</option>
            <option value="pis-SB">Pijin</option>
            <option value="pl-PL">Polish</option>
            <option value="pt-PT">Portuguese</option>
            <option value="rn-BI">Kirundi</option>
            <option value="ro-RO">Romanian</option>
            <option value="ru-RU">Russian</option>
            <option value="sg-CF">Sango</option>
            <option value="si-LK">Sinhala</option>
            <option value="sk-SK">Slovak</option>
            <option value="sm-WS">Samoan</option>
            <option value="sn-ZW">Shona</option>
            <option value="so-SO">Somali</option>
            <option value="sq-AL">Albanian</option>
            <option value="sr-RS">Serbian</option>
            <option value="sv-SE">Swedish</option>
            <option value="sw-SZ">Swahili</option>
            <option value="ta-LK">Tamil</option>
            <option value="te-IN">Telugu</option>
            <option value="tet-TL">Tetum</option>
            <option value="tg-TJ">Tajik</option>
            <option value="th-TH">Thai</option>
            <option value="ti-TI">Tigrinya</option>
            <option value="tk-TM">Turkmen</option>
            <option value="tl-PH">Tagalog</option>
            <option value="tn-BW">Tswana</option>
            <option value="to-TO">Tongan</option>
            <option value="tr-TR">Turkish</option>
            <option value="uk-UA">Ukrainian</option>
            <option value="uz-UZ">Uzbek</option>
            <option value="vi-VN">Vietnamese</option>
            <option value="wo-SN">Wolof</option>
            <option value="xh-ZA">Xhosa</option>
            <option value="yi-YD">Yiddish</option>
            <option value="zu-ZA">Zulu</option>
        </select>

        <!-- Start Button -->
        <button id="start-button">Start Quiz</button>

        <div class="question" id="question-text">Please select options and start the quiz!</div>

        <button class="next-button" id="next-button" style="display:none;">Next Question</button>
    </div>

    <script>
        let questionIndex = 0;
        let questions = [];
        let selectedLanguage = 'fr-FR';  // Default language is French
        let selectedCategory = 9;  // Default category is General Knowledge

        // Fetch quiz questions from a public API (Open Trivia Database) based on category
        async function fetchQuestions(count, category) {
            const apiUrl = `https://opentdb.com/api.php?amount=${count}&category=${category}&type=multiple`;
            const response = await fetch(apiUrl);
            const data = await response.json();
            questions = data.results;
            questionIndex = 0;
            loadQuestion();
        }

        // Translate question text to selected language using MyMemory API
        async function translateText(text, targetLanguage) {
            const apiUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|${targetLanguage}`;
            const response = await fetch(apiUrl);
            const data = await response.json();
            if (data.responseData) {
                return data.responseData.translatedText;
            } else {
                console.error('Translation error:', data);
                return text;  // Return original text if translation fails
            }
        }

        // Load the current question and translate it
        async function loadQuestion() {
            if (questionIndex < questions.length) {
                let currentQuestion = questions[questionIndex].question;
                const translatedQuestion = await translateText(currentQuestion, selectedLanguage);
                document.getElementById("question-text").innerText = translatedQuestion;
                document.getElementById("next-button").style.display = 'inline-block';  // Show next button
            } else {
                alert("Quiz complete!");
                document.getElementById("next-button").style.display = 'none';  // Hide next button after quiz is done
            }
        }

        // Event listener for Start Quiz button
        document.getElementById("start-button").addEventListener("click", () => {
            selectedCategory = document.getElementById("category-select").value;
            selectedLanguage = document.getElementById("language-select").value;
            const selectedCount = document.getElementById("question-count").value;
            fetchQuestions(selectedCount, selectedCategory);  // Fetch and load questions
            document.getElementById("start-button").style.display = 'none';  // Hide the start button after quiz begins
        });

        // Event listener for Next Question button
        document.getElementById("next-button").addEventListener("click", () => {
            questionIndex++;
            loadQuestion();  // Load next question
        });
    </script>

</body>
</html>
